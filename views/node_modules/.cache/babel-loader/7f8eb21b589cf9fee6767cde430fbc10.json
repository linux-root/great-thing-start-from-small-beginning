{"remainingRequest":"/home/kurro/VuejsProject/online-shopping/node_modules/babel-loader/lib/index.js!/home/kurro/VuejsProject/online-shopping/src/store/actions.js","dependencies":[{"path":"/home/kurro/VuejsProject/online-shopping/src/store/actions.js","mtime":1547278585803},{"path":"/home/kurro/VuejsProject/online-shopping/node_modules/cache-loader/dist/cjs.js","mtime":1530623306618},{"path":"/home/kurro/VuejsProject/online-shopping/node_modules/babel-loader/lib/index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport { ADD_PRODUCT, ADD_PRODUCT_SUCCESS, PRODUCT_BY_ID, PRODUCT_BY_ID_SUCCESS, UPDATE_PRODUCT, UPDATE_PRODUCT_SUCCESS, REMOVE_PRODUCT, REMOVE_PRODUCT_SUCCESS, ALL_PRODUCTS, ALL_PRODUCTS_SUCCESS } from './mutation-types';\nimport * as config from '../config';\nvar API_BASE = config.API_BASE;\nexport var productActions = {\n  allProducts: function allProducts(_ref) {\n    var commit = _ref.commit;\n    console.debug(API_BASE);\n    commit(ALL_PRODUCTS);\n    axios.get(\"\".concat(API_BASE, \"/products\")).then(function (response) {\n      commit(ALL_PRODUCTS_SUCCESS, response.data);\n    });\n  },\n  productById: function productById(_ref2, id) {\n    var commit = _ref2.commit;\n    commit(PRODUCT_BY_ID);\n    axios.get(\"\".concat(API_BASE, \"/products/\").concat(id)).then(function (response) {\n      commit(PRODUCT_BY_ID_SUCCESS, response.data);\n    });\n  },\n  addProduct: function addProduct(_ref3, payload) {\n    var commit = _ref3.commit;\n    commit(ADD_PRODUCT);\n    var formData = new FormData();\n    formData.append('image', payload.file);\n    var product = JSON.stringify(payload);\n    formData.append('product', product);\n    axios.post(\"\".concat(API_BASE, \"/products\"), formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(function (response) {\n      commit(ADD_PRODUCT_SUCCESS, response.data);\n    });\n  },\n  updateProduct: function updateProduct(_ref4, payload) {\n    var commit = _ref4.commit;\n    commit(UPDATE_PRODUCT); // Update product via API\n\n    var formData = new FormData();\n    formData.append('image', payload.file);\n    var product = JSON.stringify(payload);\n    formData.append('product', product);\n    axios.put(\"\".concat(API_BASE, \"/products/\").concat(payload._id), formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(function (response) {\n      commit(UPDATE_PRODUCT_SUCCESS, response.data);\n    });\n  },\n  removeProduct: function removeProduct(_ref5, payload) {\n    var commit = _ref5.commit;\n    commit(REMOVE_PRODUCT);\n    axios.delete(\"\".concat(API_BASE, \"/products/\").concat(payload), payload).then(function (response) {\n      commit(REMOVE_PRODUCT_SUCCESS, response.data);\n    });\n  }\n};",{"version":3,"sources":["src/store/actions.js"],"names":["axios","ADD_PRODUCT","ADD_PRODUCT_SUCCESS","PRODUCT_BY_ID","PRODUCT_BY_ID_SUCCESS","UPDATE_PRODUCT","UPDATE_PRODUCT_SUCCESS","REMOVE_PRODUCT","REMOVE_PRODUCT_SUCCESS","ALL_PRODUCTS","ALL_PRODUCTS_SUCCESS","config","API_BASE","productActions","allProducts","commit","console","debug","get","then","response","data","productById","id","addProduct","payload","formData","FormData","append","file","product","JSON","stringify","post","headers","updateProduct","put","_id","removeProduct","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,WADJ,EAEIC,mBAFJ,EAGIC,aAHJ,EAIIC,qBAJJ,EAKIC,cALJ,EAMIC,sBANJ,EAOIC,cAPJ,EAQIC,sBARJ,EASIC,YATJ,EAUIC,oBAVJ,QAWO,kBAXP;AAaA,OAAO,KAAKC,MAAZ,MAAwB,WAAxB;AAEA,IAAMC,WAAWD,OAAOC,QAAxB;AAEA,OAAO,IAAMC,iBAAiB;AAC1BC,aAD0B,6BACJ;AAAA,QAATC,MAAS,QAATA,MAAS;AAClBC,YAAQC,KAAR,CAAcL,QAAd;AACAG,WAAON,YAAP;AACAT,UAAMkB,GAAN,WAAaN,QAAb,gBAAkCO,IAAlC,CAAuC,oBAAY;AAC/CJ,aAAOL,oBAAP,EAA6BU,SAASC,IAAtC;AACH,KAFD;AAGH,GAPyB;AAQ1BC,aAR0B,8BAQJC,EARI,EAQA;AAAA,QAAbR,MAAa,SAAbA,MAAa;AACtBA,WAAOZ,aAAP;AACAH,UAAMkB,GAAN,WAAaN,QAAb,uBAAkCW,EAAlC,GAAwCJ,IAAxC,CAA6C,oBAAY;AACrDJ,aAAOX,qBAAP,EAA8BgB,SAASC,IAAvC;AACH,KAFD;AAGH,GAbyB;AAc1BG,YAd0B,6BAcJC,OAdI,EAcK;AAAA,QAAlBV,MAAkB,SAAlBA,MAAkB;AAC3BA,WAAOd,WAAP;AACD,QAAIyB,WAAW,IAAIC,QAAJ,EAAf;AACCD,aAASE,MAAT,CAAgB,OAAhB,EAAyBH,QAAQI,IAAjC;AACA,QAAIC,UAAUC,KAAKC,SAAL,CAAeP,OAAf,CAAd;AACAC,aAASE,MAAT,CAAgB,SAAhB,EAA2BE,OAA3B;AACJ9B,UAAMiC,IAAN,WAAcrB,QAAd,gBAAmCc,QAAnC,EAA6C;AACzCQ,eAAS;AACL,wBAAgB;AADX;AADgC,KAA7C,EAIGf,IAJH,CAIQ,oBAAY;AAChBJ,aAAOb,mBAAP,EAA4BkB,SAASC,IAArC;AACH,KAND;AAMG,GA1BuB;AA4B1Bc,eA5B0B,gCA4BDV,OA5BC,EA4BQ;AAAA,QAAlBV,MAAkB,SAAlBA,MAAkB;AAC9BA,WAAOV,cAAP,EAD8B,CAE9B;;AACA,QAAIqB,WAAW,IAAIC,QAAJ,EAAf;AACAD,aAASE,MAAT,CAAgB,OAAhB,EAAyBH,QAAQI,IAAjC;AAEA,QAAIC,UAAUC,KAAKC,SAAL,CAAeP,OAAf,CAAd;AACAC,aAASE,MAAT,CAAgB,SAAhB,EAA2BE,OAA3B;AACA9B,UAAMoC,GAAN,WAAaxB,QAAb,uBAAkCa,QAAQY,GAA1C,GAAiDX,QAAjD,EAA2D;AACvDQ,eAAS;AACL,wBAAgB;AADX;AAD8C,KAA3D,EAIGf,IAJH,CAIQ,oBAAY;AAChBJ,aAAOT,sBAAP,EAA+Bc,SAASC,IAAxC;AACH,KAND;AAOH,GA3CyB;AA4C1BiB,eA5C0B,gCA4CFb,OA5CE,EA4CO;AAAA,QAAlBV,MAAkB,SAAlBA,MAAkB;AAC7BA,WAAOR,cAAP;AACAP,UAAMuC,MAAN,WAAgB3B,QAAhB,uBAAqCa,OAArC,GAAgDA,OAAhD,EAAyDN,IAAzD,CAA8D,oBAAY;AACtEJ,aAAOP,sBAAP,EAA+BY,SAASC,IAAxC;AACH,KAFD;AAGH;AAjDyB,CAAvB","sourceRoot":"/home/kurro/VuejsProject/online-shopping","sourcesContent":["import axios from 'axios'\nimport {\n    ADD_PRODUCT,\n    ADD_PRODUCT_SUCCESS,\n    PRODUCT_BY_ID,\n    PRODUCT_BY_ID_SUCCESS,\n    UPDATE_PRODUCT,\n    UPDATE_PRODUCT_SUCCESS,\n    REMOVE_PRODUCT,\n    REMOVE_PRODUCT_SUCCESS,\n    ALL_PRODUCTS,\n    ALL_PRODUCTS_SUCCESS\n} from './mutation-types'\n\nimport * as config from '../config'\n\nconst API_BASE = config.API_BASE;\n\nexport const productActions = {\n    allProducts({commit}) {\n        console.debug(API_BASE);\n        commit(ALL_PRODUCTS)\n        axios.get(`${API_BASE}/products`).then(response => {\n            commit(ALL_PRODUCTS_SUCCESS, response.data)\n        })\n    },\n    productById({commit}, id) {\n        commit(PRODUCT_BY_ID)\n        axios.get(`${API_BASE}/products/${id}`).then(response => {\n            commit(PRODUCT_BY_ID_SUCCESS, response.data)\n        })\n    },\n    addProduct ({commit}, payload) {\n        commit(ADD_PRODUCT);\n       let formData = new FormData();\n        formData.append('image', payload.file);\n        var product = JSON.stringify(payload);\n        formData.append('product', product);\n    axios.post(`${API_BASE}/products`, formData, {\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    }).then(response => {\n        commit(ADD_PRODUCT_SUCCESS, response.data)\n    })}\n    ,\n    updateProduct ({commit}, payload) {\n        commit(UPDATE_PRODUCT)\n        // Update product via API\n        let formData = new FormData();\n        formData.append('image', payload.file);\n\n        var product = JSON.stringify(payload);\n        formData.append('product', product);\n        axios.put(`${API_BASE}/products/${payload._id}`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        }).then(response => {\n            commit(UPDATE_PRODUCT_SUCCESS, response.data)\n        })\n    },\n    removeProduct({commit}, payload) {\n        commit(REMOVE_PRODUCT)\n        axios.delete(`${API_BASE}/products/${payload}`, payload).then(response => {\n            commit(REMOVE_PRODUCT_SUCCESS, response.data)\n        })\n    }\n}"]}]}