{"remainingRequest":"/home/kurro/work/great-thing-start-from-small-beginning/views/node_modules/babel-loader/lib/index.js!/home/kurro/work/great-thing-start-from-small-beginning/views/src/store/actions.js","dependencies":[{"path":"/home/kurro/work/great-thing-start-from-small-beginning/views/src/store/actions.js","mtime":1547278585803},{"path":"/home/kurro/work/great-thing-start-from-small-beginning/views/node_modules/cache-loader/dist/cjs.js","mtime":1530623306618},{"path":"/home/kurro/work/great-thing-start-from-small-beginning/views/node_modules/babel-loader/lib/index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport { ADD_PRODUCT, ADD_PRODUCT_SUCCESS, PRODUCT_BY_ID, PRODUCT_BY_ID_SUCCESS, UPDATE_PRODUCT, UPDATE_PRODUCT_SUCCESS, REMOVE_PRODUCT, REMOVE_PRODUCT_SUCCESS, ALL_PRODUCTS, ALL_PRODUCTS_SUCCESS } from './mutation-types';\nimport * as config from '../config';\nconst API_BASE = config.API_BASE;\nexport const productActions = {\n  allProducts({\n    commit\n  }) {\n    console.debug(API_BASE);\n    commit(ALL_PRODUCTS);\n    axios.get(`${API_BASE}/products`).then(response => {\n      commit(ALL_PRODUCTS_SUCCESS, response.data);\n    });\n  },\n\n  productById({\n    commit\n  }, id) {\n    commit(PRODUCT_BY_ID);\n    axios.get(`${API_BASE}/products/${id}`).then(response => {\n      commit(PRODUCT_BY_ID_SUCCESS, response.data);\n    });\n  },\n\n  addProduct({\n    commit\n  }, payload) {\n    commit(ADD_PRODUCT);\n    let formData = new FormData();\n    formData.append('image', payload.file);\n    var product = JSON.stringify(payload);\n    formData.append('product', product);\n    axios.post(`${API_BASE}/products`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response => {\n      commit(ADD_PRODUCT_SUCCESS, response.data);\n    });\n  },\n\n  updateProduct({\n    commit\n  }, payload) {\n    commit(UPDATE_PRODUCT); // Update product via API\n\n    let formData = new FormData();\n    formData.append('image', payload.file);\n    var product = JSON.stringify(payload);\n    formData.append('product', product);\n    axios.put(`${API_BASE}/products/${payload._id}`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response => {\n      commit(UPDATE_PRODUCT_SUCCESS, response.data);\n    });\n  },\n\n  removeProduct({\n    commit\n  }, payload) {\n    commit(REMOVE_PRODUCT);\n    axios.delete(`${API_BASE}/products/${payload}`, payload).then(response => {\n      commit(REMOVE_PRODUCT_SUCCESS, response.data);\n    });\n  }\n\n};",{"version":3,"sources":["src/store/actions.js"],"names":["axios","ADD_PRODUCT","ADD_PRODUCT_SUCCESS","PRODUCT_BY_ID","PRODUCT_BY_ID_SUCCESS","UPDATE_PRODUCT","UPDATE_PRODUCT_SUCCESS","REMOVE_PRODUCT","REMOVE_PRODUCT_SUCCESS","ALL_PRODUCTS","ALL_PRODUCTS_SUCCESS","config","API_BASE","productActions","allProducts","commit","console","debug","get","then","response","data","productById","id","addProduct","payload","formData","FormData","append","file","product","JSON","stringify","post","headers","updateProduct","put","_id","removeProduct","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,WADJ,EAEIC,mBAFJ,EAGIC,aAHJ,EAIIC,qBAJJ,EAKIC,cALJ,EAMIC,sBANJ,EAOIC,cAPJ,EAQIC,sBARJ,EASIC,YATJ,EAUIC,oBAVJ,QAWO,kBAXP;AAaA,OAAO,KAAKC,MAAZ,MAAwB,WAAxB;AAEA,MAAMC,WAAWD,OAAOC,QAAxB;AAEA,OAAO,MAAMC,iBAAiB;AAC1BC,cAAY;AAACC;AAAD,GAAZ,EAAsB;AAClBC,YAAQC,KAAR,CAAcL,QAAd;AACAG,WAAON,YAAP;AACAT,UAAMkB,GAAN,CAAW,GAAEN,QAAS,WAAtB,EAAkCO,IAAlC,CAAuCC,YAAY;AAC/CL,aAAOL,oBAAP,EAA6BU,SAASC,IAAtC;AACH,KAFD;AAGH,GAPyB;;AAQ1BC,cAAY;AAACP;AAAD,GAAZ,EAAsBQ,EAAtB,EAA0B;AACtBR,WAAOZ,aAAP;AACAH,UAAMkB,GAAN,CAAW,GAAEN,QAAS,aAAYW,EAAG,EAArC,EAAwCJ,IAAxC,CAA6CC,YAAY;AACrDL,aAAOX,qBAAP,EAA8BgB,SAASC,IAAvC;AACH,KAFD;AAGH,GAbyB;;AAc1BG,aAAY;AAACT;AAAD,GAAZ,EAAsBU,OAAtB,EAA+B;AAC3BV,WAAOd,WAAP;AACD,QAAIyB,WAAW,IAAIC,QAAJ,EAAf;AACCD,aAASE,MAAT,CAAgB,OAAhB,EAAyBH,QAAQI,IAAjC;AACA,QAAIC,UAAUC,KAAKC,SAAL,CAAeP,OAAf,CAAd;AACAC,aAASE,MAAT,CAAgB,SAAhB,EAA2BE,OAA3B;AACJ9B,UAAMiC,IAAN,CAAY,GAAErB,QAAS,WAAvB,EAAmCc,QAAnC,EAA6C;AACzCQ,eAAS;AACL,wBAAgB;AADX;AADgC,KAA7C,EAIGf,IAJH,CAIQC,YAAY;AAChBL,aAAOb,mBAAP,EAA4BkB,SAASC,IAArC;AACH,KAND;AAMG,GA1BuB;;AA4B1Bc,gBAAe;AAACpB;AAAD,GAAf,EAAyBU,OAAzB,EAAkC;AAC9BV,WAAOV,cAAP,EAD8B,CAE9B;;AACA,QAAIqB,WAAW,IAAIC,QAAJ,EAAf;AACAD,aAASE,MAAT,CAAgB,OAAhB,EAAyBH,QAAQI,IAAjC;AAEA,QAAIC,UAAUC,KAAKC,SAAL,CAAeP,OAAf,CAAd;AACAC,aAASE,MAAT,CAAgB,SAAhB,EAA2BE,OAA3B;AACA9B,UAAMoC,GAAN,CAAW,GAAExB,QAAS,aAAYa,QAAQY,GAAI,EAA9C,EAAiDX,QAAjD,EAA2D;AACvDQ,eAAS;AACL,wBAAgB;AADX;AAD8C,KAA3D,EAIGf,IAJH,CAIQC,YAAY;AAChBL,aAAOT,sBAAP,EAA+Bc,SAASC,IAAxC;AACH,KAND;AAOH,GA3CyB;;AA4C1BiB,gBAAc;AAACvB;AAAD,GAAd,EAAwBU,OAAxB,EAAiC;AAC7BV,WAAOR,cAAP;AACAP,UAAMuC,MAAN,CAAc,GAAE3B,QAAS,aAAYa,OAAQ,EAA7C,EAAgDA,OAAhD,EAAyDN,IAAzD,CAA8DC,YAAY;AACtEL,aAAOP,sBAAP,EAA+BY,SAASC,IAAxC;AACH,KAFD;AAGH;;AAjDyB,CAAvB","sourceRoot":"/home/kurro/work/great-thing-start-from-small-beginning/views","sourcesContent":["import axios from 'axios'\nimport {\n    ADD_PRODUCT,\n    ADD_PRODUCT_SUCCESS,\n    PRODUCT_BY_ID,\n    PRODUCT_BY_ID_SUCCESS,\n    UPDATE_PRODUCT,\n    UPDATE_PRODUCT_SUCCESS,\n    REMOVE_PRODUCT,\n    REMOVE_PRODUCT_SUCCESS,\n    ALL_PRODUCTS,\n    ALL_PRODUCTS_SUCCESS\n} from './mutation-types'\n\nimport * as config from '../config'\n\nconst API_BASE = config.API_BASE;\n\nexport const productActions = {\n    allProducts({commit}) {\n        console.debug(API_BASE);\n        commit(ALL_PRODUCTS)\n        axios.get(`${API_BASE}/products`).then(response => {\n            commit(ALL_PRODUCTS_SUCCESS, response.data)\n        })\n    },\n    productById({commit}, id) {\n        commit(PRODUCT_BY_ID)\n        axios.get(`${API_BASE}/products/${id}`).then(response => {\n            commit(PRODUCT_BY_ID_SUCCESS, response.data)\n        })\n    },\n    addProduct ({commit}, payload) {\n        commit(ADD_PRODUCT);\n       let formData = new FormData();\n        formData.append('image', payload.file);\n        var product = JSON.stringify(payload);\n        formData.append('product', product);\n    axios.post(`${API_BASE}/products`, formData, {\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    }).then(response => {\n        commit(ADD_PRODUCT_SUCCESS, response.data)\n    })}\n    ,\n    updateProduct ({commit}, payload) {\n        commit(UPDATE_PRODUCT)\n        // Update product via API\n        let formData = new FormData();\n        formData.append('image', payload.file);\n\n        var product = JSON.stringify(payload);\n        formData.append('product', product);\n        axios.put(`${API_BASE}/products/${payload._id}`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        }).then(response => {\n            commit(UPDATE_PRODUCT_SUCCESS, response.data)\n        })\n    },\n    removeProduct({commit}, payload) {\n        commit(REMOVE_PRODUCT)\n        axios.delete(`${API_BASE}/products/${payload}`, payload).then(response => {\n            commit(REMOVE_PRODUCT_SUCCESS, response.data)\n        })\n    }\n}"]}]}